<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Niyetali Kaliyev">
<meta name="dcterms.date" content="2024-04-26">

<title>Better Call Saul</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="RR_8_files/libs/clipboard/clipboard.min.js"></script>
<script src="RR_8_files/libs/quarto-html/quarto.js"></script>
<script src="RR_8_files/libs/quarto-html/popper.min.js"></script>
<script src="RR_8_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="RR_8_files/libs/quarto-html/anchor.min.js"></script>
<link href="RR_8_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="RR_8_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="RR_8_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="RR_8_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="RR_8_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<script src="RR_8_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="RR_8_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Better Call Saul</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Niyetali Kaliyev </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 26, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p><strong>“Better Call Saul”</strong> is an American legal crime drama TV series developed by <em>Vince Gilligan</em> and <em>Peter Gould</em> for AMC. It’s part of the <em>“Breaking Bad”</em> franchise and functions as a spin-off of Gilligan’s earlier series, “Breaking Bad” (2008–2013). Primarily serving as a prequel, “Better Call Saul” is set before and during the events of “Breaking Bad,” with certain scenes extending into the post-“Breaking Bad” timeline.</p>
</section>
<section id="plot" class="level2">
<h2 class="anchored" data-anchor-id="plot">Plot</h2>
<p>The series begins with <strong>Jimmy McGill</strong>, played by <em>Bob Odenkirk</em>, working as a struggling lawyer trying to establish his legal career. Jimmy is a good-hearted but morally flexible attorney who often finds himself on the wrong side of the law while trying to make ends meet.</p>
<p>As the series progresses, Jimmy’s personal and professional life becomes increasingly complex. He grapples with ethical dilemmas and faces challenges both in and out of the courtroom. Throughout the show, we witness Jimmy’s transformation into <strong>Saul Goodman</strong>, the flamboyant and unscrupulous lawyer known for his colorful personality and questionable legal tactics.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="better.jpeg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Season 4 Poster</figcaption>
</figure>
</div>
</section>
<section id="ratings-and-statistics" class="level2">
<h2 class="anchored" data-anchor-id="ratings-and-statistics">Ratings and Statistics</h2>
<p>The debut season boasts a 97% approval rating on <strong>Rotten Tomatoes</strong>, accompanied by an average score of 8.1/10 from 291 reviews. The critical consensus on the website reads, “Better Call Saul is a distinctive, shadowy character exploration that asserts its independence without being overshadowed by its predecessor.” <strong>Metacritic</strong>, employing a weighted average, awarded the season a <u>“generally favorable”</u> score of 78 based on 43 reviews.</p>
<p>Season 2 also boasts a 97% approval rating on Rotten Tomatoes, achieving an average score of 8.7/10 from 182 reviews. The critical consensus on the site remarks, “Better Call Saul continues to captivate audiences with a collection of episodes that inject new dramatic energy while showcasing the talents of its lead.” Metacritic assigned the season a score of 85 out of 100, based on 18 critics, signifying <u>“universal acclaim.”</u></p>
<p>The 3rd season maintains a 98% approval rating on Rotten Tomatoes, with an average score of 8.75/10 based on 175 reviews. The critical consensus on Rotten Tomatoes asserts, “Better Call Saul remains steadfast in season 3, as the introduction of more familiar characters accelerates the inevitable transformation of its protagonist.” Metacritic awarded the season a score of 87 out of 100, based on 18 critics, indicating <u>“universal acclaim.”</u></p>
<p>In its 4th season, Better Call Saul achieves a 99% approval rating on Rotten Tomatoes, earning an average score of 8.9/10 from 185 reviews. The critical consensus on Rotten Tomatoes notes, “Well-crafted and compelling as always, Better Call Saul adeptly balances its current identity with its inevitable evolution.” Metacritic awarded the season a score of 87 out of 100, based on 16 reviews, indicating <u>“universal acclaim.”</u></p>
<p>The 5th season similarly holds a 99% approval rating on Rotten Tomatoes, earning an average score of 8.9/10 from 185 reviews. The critical consensus on the site reads, “Anchored by Bob Odenkirk’s endlessly nuanced, authentic performance, Better Call Saul’s fifth season offers a darkly humorous, vividly realized exploration of tragedy.” Metacritic awarded the season a score of 92 out of 100 based on 16 critics, signifying <u>“universal acclaim.”</u></p>
<p>The final season, season 6, maintains a 99% approval rating on Rotten Tomatoes, achieving an average score of 9.4/10 from 182 reviews. The critical consensus on Rotten Tomatoes states, “Better Call Saul remains just as masterfully controlled as Jimmy McGill insists he is in this ultimate season, where years of simmering storytelling culminate in a scintillating climax.” According to Metacritic, the season received a score of 94 out of 100 based on 20 critics, indicating <u>“universal acclaim.”</u></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(dplyr))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(kableExtra))</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">"https://en.wikipedia.org/wiki/Better_Call_Saul"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>better <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>table_data <span class="ot">&lt;-</span> better <span class="sc">%&gt;%</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> table_data[[<span class="dv">3</span>]]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>data_clean <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(<span class="sc">~</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">[.*?</span><span class="sc">\\</span><span class="st">]"</span>, <span class="st">""</span>, .))</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>data_clean<span class="sc">$</span>Metacritic <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">s*</span><span class="sc">\\</span><span class="st">((.*?)</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">"% (</span><span class="sc">\\</span><span class="st">1)"</span>, data_clean<span class="sc">$</span>Metacritic)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>data_clean <span class="sc">%&gt;%</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"&lt;b&gt;Critical Response&lt;b&gt;"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption><strong>Critical Response<strong></strong></strong></caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Season</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Rotten Tomatoes</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Metacritic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">97% (291 reviews)</td>
<td style="text-align: left;">78% (43 reviews)</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">97% (182 reviews)</td>
<td style="text-align: left;">85% (18 reviews)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: left;">98% (175 reviews)</td>
<td style="text-align: left;">87% (18 reviews)</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: left;">99% (185 reviews)</td>
<td style="text-align: left;">87% (16 reviews)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">5</td>
<td style="text-align: left;">99% (185 reviews)</td>
<td style="text-align: left;">92% (16 reviews)</td>
</tr>
<tr class="even">
<td style="text-align: left;">6</td>
<td style="text-align: left;">99% (182 reviews)</td>
<td style="text-align: left;">94% (20 reviews)</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="broadcast" class="level2">
<h2 class="anchored" data-anchor-id="broadcast">Broadcast</h2>
<p><u>Better Call Saul</u> premiered on the cable network AMC, attracting 4.4 million viewers aged 18–49 and 4 million viewers aged 25–54, with an overall viewership of 6.9 million. This marked the highest-rated scripted series premiere in basic cable history at the time, though it was later surpassed by another AMC show, <em>Fear the Walking Dead</em>.</p>
<p>In December 2013, <u>Netflix</u> announced that the entire first season would be available for streaming in the U.S. after the first-season finale aired, with episodes released shortly after in Latin America and Europe. However, the first season didn’t arrive on Netflix in the U.S. until February 1, 2016. Internationally, episodes from the second season were available for streaming the day after their U.S. airing.</p>
<p>Netflix was the exclusive video-on-demand provider for the series, available worldwide except in Australia and New Zealand. In Australia, Better Call Saul premiered on Stan on February 9, 2015, becoming the flagship program. In New Zealand, it was exclusive to Lightbox until 2020 when both services merged into Neon.</p>
<p>In the UK and Ireland, Netflix acquired the series in December 2013, premiering the first episode on February 9, 2015, followed by weekly releases. In Ireland, it also aired on TV network TG4 starting October 18, 2022. In India, episodes were broadcast on Colors Infinity within 24 hours of the U.S. airing.</p>
<p>During the final season in 2022, episodes were available for streaming on AMC+’s streaming service the same day they premiered on AMC. The season premiere led to the highest number of new subscriber sign-ups for AMC+, with a significant increase in episodic viewership on the platform by the mid-season finale. The series finale caused an app outage due to high demand, with first-day viewing numbers on AMC+ four times higher than the season premiere, making it the biggest acquisition driver in the history of the streaming service according to AMC.</p>
<section id="viewership" class="level3">
<h3 class="anchored" data-anchor-id="viewership">Viewership</h3>
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Season</th>
<th>First aired</th>
<th>Viewers (millions)</th>
<th>Last aired</th>
<th>Viewers (millions)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>February 8, 2015</td>
<td>6.88</td>
<td>April 6, 2015</td>
<td>2.53</td>
</tr>
<tr class="even">
<td>2</td>
<td>February 15, 2016</td>
<td>2.57</td>
<td>April 18, 2016</td>
<td>2.26</td>
</tr>
<tr class="odd">
<td>3</td>
<td>April 10, 2017</td>
<td>1.81</td>
<td>June 19, 2017</td>
<td>1.85</td>
</tr>
<tr class="even">
<td>4</td>
<td>August 6, 2018</td>
<td>1.77</td>
<td>October 8, 2018</td>
<td>1.53</td>
</tr>
<tr class="odd">
<td>5</td>
<td>February 23, 2020</td>
<td>1.60</td>
<td>April 20, 2020</td>
<td>1.59</td>
</tr>
<tr class="even">
<td>6A</td>
<td>April 18, 2022</td>
<td>1.42</td>
<td>May 23, 2022</td>
<td>1.19</td>
</tr>
<tr class="odd">
<td>6B</td>
<td>July 11, 2022</td>
<td>1.16</td>
<td>August 15, 2022</td>
<td>1.80</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>season <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="st">"6A"</span>, <span class="st">"6B"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>average_views <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">3.21</span>, <span class="fl">2.16</span>, <span class="fl">1.64</span>, <span class="fl">1.49</span>, <span class="fl">1.37</span>, <span class="fl">1.27</span>, <span class="fl">1.27</span>) </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>data2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Season =</span> season, <span class="at">Average_Views =</span> average_views)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data2, <span class="fu">aes</span>(<span class="at">x =</span> Season, <span class="at">y =</span> Average_Views, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span> </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>, <span class="at">y =</span> <span class="st">"Average Viewers (millions)"</span>, <span class="at">title =</span> <span class="st">"Average Viewership Over Seasons"</span>) <span class="sc">+</span> </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>()  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="RR_8_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="observed-changes" class="level3">
<h3 class="anchored" data-anchor-id="observed-changes">Observed changes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Season =</span> season, <span class="at">Average_Views =</span> average_views)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>drop1 <span class="ot">&lt;-</span> <span class="sc">-</span>((data2<span class="sc">$</span>Average_Views[data2<span class="sc">$</span>Season <span class="sc">==</span> <span class="dv">2</span>]<span class="sc">/</span>data2<span class="sc">$</span>Average_Views[data2<span class="sc">$</span>Season <span class="sc">==</span> <span class="dv">1</span>])<span class="sc">-</span><span class="dv">1</span>)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>drop1_adj <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">round</span>(drop1, <span class="dv">2</span>), <span class="st">"%"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>drop2 <span class="ot">&lt;-</span> <span class="sc">-</span>((data2<span class="sc">$</span>Average_Views[data2<span class="sc">$</span>Season <span class="sc">==</span> <span class="dv">3</span>]<span class="sc">/</span>data2<span class="sc">$</span>Average_Views[data2<span class="sc">$</span>Season <span class="sc">==</span> <span class="dv">2</span>])<span class="sc">-</span><span class="dv">1</span>)<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>drop2_adj <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">round</span>(drop2, <span class="dv">2</span>), <span class="st">"%"</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>last_season <span class="ot">&lt;-</span> <span class="fu">tail</span>(data2<span class="sc">$</span>Average_Views, <span class="dv">2</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>last_adj <span class="ot">&lt;-</span> <span class="fu">mean</span>(last_season)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>According to the graph, the average viewership had declined with each season. The most dramatic drop in average views occured between seasons 1 and 2, where the figure decreased by 32.71 %. Similarly, the views fell by 24.07 % between seasons 2 and 3. After season 3, the number of average views plunged at a relatively constatnt rate. By the end of the show (last two seasons), the figure for average views remained at the same level (1.27 million).</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>